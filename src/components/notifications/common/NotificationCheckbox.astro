---
interface Props {
	id: string;
	label: string;
	description?: string;
}

const { id, label, description } = Astro.props;
---

<div class="p-2 rounded-lg hover:bg-slate-100 transition-colors">
  <div class="flex items-start space-x-3">
    <input 
      type="checkbox" 
      id={id} 
      name="notifications" 
      value={id}
      class="h-4 w-4 mt-1 text-blue-600 rounded border-slate-300 focus:ring-blue-500"
      data-checkbox
    >
    <div>
      <label for={id} class="text-slate-700 cursor-pointer text-sm font-medium">{label}</label>
      {description && (
        <p class="text-xs text-slate-500 mt-0.5">{description}</p>
      )}
    </div>
  </div>
</div>

<script>
  class NotificationCheckbox extends HTMLElement {
    checkbox: HTMLInputElement | null;

    constructor() {
      super();
      this.checkbox = this.querySelector('[data-checkbox]');
    }
  }

  customElements.define('notification-checkbox', NotificationCheckbox);
</script> 
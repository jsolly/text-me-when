---
import NotificationCheckbox from "../common/NotificationCheckbox.astro";
import NotificationTimeSelect from "../NotificationTimeSelect.astro";
---

<div class="space-y-6">
  <div class="flex items-center space-x-2 mb-4">
    <div class="h-2 w-2 bg-blue-500 rounded-full"></div>
    <h3 class="text-sm font-medium text-slate-600">Daily Notifications</h3>
  </div>

  <div class="bg-white rounded-lg p-4 border border-slate-200">
    <div class="space-y-3">
      <NotificationTimeSelect />
    </div>
  </div>
  
  <div class="bg-white rounded-lg p-4 border border-slate-200">
    <h2 class="text-lg font-semibold text-slate-800 mb-3">Astrological Events</h2>
    <div class="space-y-3">
      <div x-data="{ allAstrological: false }">
        <NotificationCheckbox 
          id="astrological" 
          label="All astrological events" 
          description="Get notified about meteor showers, full moons, eclipses, and more"
          x-model="allAstrological"
          @click="$refs.astroChildren.querySelectorAll('input[type=checkbox]').forEach(checkbox => checkbox.checked = allAstrological)"
        />
        <div class="ml-8 space-y-3 mt-3" x-ref="astroChildren">
          <NotificationCheckbox id="meteor" label="Meteor shower alerts" />
          <NotificationCheckbox id="fullmoon" label="Full moon" />
          <NotificationCheckbox id="newmoon" label="New moon" />
          <NotificationCheckbox id="eclipse" label="Solar/Lunar eclipses" />
        </div>
      </div>
    </div>
  </div>

  <div class="bg-white rounded-lg p-4 border border-slate-200">
    <h2 class="text-lg font-semibold text-slate-800 mb-3">Historical Facts</h2>
    <div class="space-y-3">
      <div x-data="{ allHistorical: false }">
        <NotificationCheckbox 
          id="historical" 
          label="All historical facts" 
          description="Get daily facts about science, space, technology, and culture"
          x-model="allHistorical"
          @click="$refs.historyChildren.querySelectorAll('input[type=checkbox]').forEach(checkbox => checkbox.checked = allHistorical)"
        />
        <div class="ml-8 space-y-3 mt-3" x-ref="historyChildren">
          <NotificationCheckbox 
            id="history-science" 
            label="Science & Discovery" 
            description="Notable scientific breakthroughs and discoveries"
          />
          <NotificationCheckbox 
            id="history-space" 
            label="Space Exploration" 
            description="Milestones in space exploration and astronomy"
          />
          <NotificationCheckbox 
            id="history-tech" 
            label="Technology" 
            description="Important moments in technological advancement"
          />
          <NotificationCheckbox 
            id="history-culture" 
            label="Culture & Society" 
            description="Significant cultural and societal events"
          />
        </div>
      </div>
    </div>
  </div>
</div> 
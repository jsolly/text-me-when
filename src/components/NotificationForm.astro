---
import FormInputs from './FormInputs.astro';
import NotificationCheckbox from './NotificationCheckbox.astro';
---

<div class="bg-white rounded-xl shadow-lg p-8 max-w-md w-full">
  <h1 class="text-3xl font-bold text-slate-800 mb-2">Text Me When...</h1>
  <p class="text-slate-600 mb-6">Choose events you'd like to receive text notifications about.</p>
  
  <form class="space-y-6">
    <div class="space-y-4">
      <FormInputs 
        label="Phone Number"
        id="phone"
        type="tel"
        placeholder="(555) 555-5555"
        pattern="[\(]\d{3}[\)]\s\d{3}[\-]\d{4}"
      />

      <FormInputs 
        label="City"
        id="city"
        type="text"
        placeholder="Enter your city"
      />

      <div class="space-y-3">
        <notification-checkbox>
          <NotificationCheckbox id="iss" label="ISS passing overhead" />
        </notification-checkbox>
        <notification-checkbox>
          <NotificationCheckbox id="sunrise" label="Sunrise time" />
        </notification-checkbox>
        <notification-checkbox>
          <NotificationCheckbox id="sunset" label="Sunset time" />
        </notification-checkbox>
      </div>
    </div>

    <button type="submit" 
      class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors font-medium">
      Sign Up for Notifications
    </button>

    <p class="text-xs text-slate-500 text-center">
      By signing up, you agree to receive text messages about your selected events. 
      Message and data rates may apply.
    </p>
  </form>
</div>

<script>
  import { initializeNotificationTimings } from '../scripts/notification-timing';
  
  // Run when the component is mounted
  document.addEventListener('DOMContentLoaded', initializeNotificationTimings);
</script> 